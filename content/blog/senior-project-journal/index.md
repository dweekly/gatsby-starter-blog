---
title: Senior Project Journal
author: dweekly
date: 1996-06-06

---
## Monday, May 20, 1996
Today was my first day back at the Physics Labs. I thought that it went really well. It was kind of fun -- I just stepped right in, and like *pow!* there I was back to last summer. Talk about a phase switch! Well, I think I made a lot of progress today with Jeff. We've got the simulation (almost) ready to be driven in one big chunk, and I wrote up a detail for Dr. G on the specifics of the computing resources that we thought that we might need. Also, I am organizing the program files at hussle. Everything will be neat, organized, and consolidated. That should make things run a lot more smoothly over the next three weeks. I think that Jeff and I will be able to accomplish a lot. If we manage to get the job out to a supercomputer (and if we can reduce the number of calculations), we should be able to complete (most of) the project in 50 days. The more supercomputing time we get, the better! (and the fewer calculations we can get away with doing) Right now, there are jobs running: 2 on bussle, 1 on hussle, and 1 on an Alpha that Jeff has access to. So I'm plowing through the physics and computer science, and I think that we're making just great progress. The only thing that concerns me is that Jeff's leaving before the entire thing is done, so it looks like I'll have to solo it at the end. If I could get good results, (maybe even a paper) done by the time Dr. G goes to his conference in Mid-July, that would be cool, but I'm not sure how that will balance with the Lincoln Labs job -- speaking of which, I'm going in on Wednesday morning! *gulp* I've got to fill out the application, too! Well, that's all for now...

## Tuesday, May 21, 1996
Today was good. A lot of progress was made. One of the highlights of the day was Jeff's starting to write a preliminary paper! I missed Daphna Enzer's thesis defense, which was quite disappointing -- I would have liked to see how it works -- I may be giving one of my own some day in the not-too-distant future. I consolidated all of the project files into ~/project, so everything is nice and organized now. I also removed a bunch of old/useless digital baggage. I discovered and fixed a problem with how we were generating random numbers. I also started the proton outside of the electron cloud, and calculated the correct velocity for it -- this is much more realistic than our previous scenarios, which simply started with the proton in the cloud. We might not have a poblem halving, or even bringing to one fifth the amount of data that we're currently storing. given that a complete 10,000 run would take 4.2Gb, cutting that down under a Gb could be significant. Jeff and I continue to look into the possibility of doubling the timesteps -- I'm going to finish work on an experiment that G, Jeff, and I thought of to test its accuracy. If we can double the timesteps (thus halving the required total CPU krunch time), that would mean that we could realistically pull the project off in an extremely short amount of time. Jeff managed to get a job on tsunami, but unfortunately it looks like we can't use hussle or either of the pentium machines for computing, and Gerry's home machine looks dubious right now. Oh well. Looks like we'll have to go supercomputer. I'm dreading the analytic solution for the test because I always feel more comfortable in the lab coding than doing the math, because everyone is so much better than me in math, but not in coding. I filled out the application for Lincoln Labs tonight, and it wasn't too bad. Interview tomorrow morning, bright and early. *yawn* Good night, journal.

## Wednesday, May 22, 1996
Well, today was a somewhat short day, but some deal of progress was made. I had my interview at Lincoln Labs, (which was really cool) so I didn't get in until labout 11:20 or so. Jeff wasn't in. I managed to get krunch working, and I set it to calculating two instances of a single electron rotating in the trap. Then Dr. G. slapped me with the job of calculating the analytic solution! Ack...those numbers flew yesterday. It was fun, though. I (may) have gotten the right equations down now, and the answers it spit out were somewhat different from the calculated answers in a few of the variables. I have to chat with G to figure it out. Dr. G also told me that he later wanted 2 more instances of the krunch program - one to just calculate electron motions (i.e. no protons -- this shouldn't be very hard) and another (this is the harder request) to include support for gradient magnetic fields. Hmm...I may have to go over the original equations a little more before I can implement that. I had to leave early to get to studying for my Mutivariable Calculus Harvard Extension final exam, which is tomorrow!

## Thursday, May 23, 1996
[today I took my Multivariable Calculus final exam -- I think I did well!] Work today went at a semi-frantic pace for the first half of the day, but I fizzled out near the end, mainly for lack of things to do. I implemented krunch-gmf (Krunch with Gradient Magnetic Fields), krunch-elec (Krunch with just an electron cloud), krunch-ds (Krunch with Dynamic Saving -- saves in detail after a certain amount of time), and, of course, plain krunch. I also implemented initcond-elec to generate proper initial conditions files for krunch-elec. I put in makefiles for many of the sources to speed compilation ease and consolidate the binaries in the ~/project/bin directory. I finished the analytic solution to the single electron, but apparently Dr. G gave me the wrong formula for the Z-motion! Grr...I would have gotten it right if he hadn't blundered. =) Interestingly enough, the Y-velocities in the analytic and calculated solutions don't seem to match that well, while the X-velocities enjoy a high degree of correlation. Hmm...I'll have to look into that, but it's probably something wrong with the analytic code, as if something was wrong with the calculation code, the Y-positions would not have correlated as well as they did. Jeff apparently is leaving very soon, putting the project in my hands!!! He views himself more as an advisor now, instead of a research compatriot. This is bad. I thought he was going to be working with me for all three weeks, but that doesn't really look likely. I'm going to have to stick it on my own, but hey -- I'll get to put my name fist on the paper. =) Speaking of which, one of Jeff's big priorities is to leave me with a preliminary draft before he really "checks out". That should prove interesting, because from that document the real paper will be born. I really hope that I'll be able to maintain direction (and speed) without Jeff, but he'll be advising me, so I don't think I'll be that badly off. Well, that's the news for now.

## Friday, May 24, 1996
[Daphna got her thesis handed in today! Yeehaw! Go Dr. Enzer!!! It was about 125 pages of RAW HARDCORE physics...wow.] Well, so much for Jeff writing the preliminaries! Looks like the job of documentation & writing the paper is more or less mine as well as everything else. Exciting, but backbreaking. Today I fixed up krunch-gmf some, and I did a test run or two (on the same initial conditions) with krunch and krunch-gmf to try to insure that they both output the same data for the standard magnetic field. Unfortunately, the numbers didn't really match up at all. Fortunately, Jeff came to the rescue and pointed out that my cyclotron equations for krunch and krunch-gmf had opposite signs. Well, it looks like that's the problem, so I'm going to go fix it on Tuesday (or Monday, if I can come in then). Dr. G. was out today, which was a little disappointing, because I more or less ran out of things to do! (while I was waiting for the krunch vs. krunch-gmf tests to complete) Fortunately, I talked to Jeff, and he got me going on documenting the whole dang thing. I already have started to document the software tools that we have implemented, and I did some hardcore analysis of initcond2 to insure that the (x,y,z) starting positions were random and the <vx,vy,vz> velocities were random over a Gaussian distribution. (It was closer to a Lorentzian, really, but we'll keep that our little secret. =) ) So I'm a chugging away this weekend on the documentation, and I should have a [nearly] complete first draft by the end of the weekend. In the meantime, I have to learn java and tensor analysis and maybe have a social life, so we'll see what actually happens. Jeff tells me that Dr. G. has been considering the possibility of me speaking on my work at an international conference about antimatter at Harvard! It's been kept from me because it's really contingent on us getting valuable data back, so I'm going to chug and bleed to get some nice numbers for Dr. G.! That'd be really cool to talk at a conference! If I could get out a paper to "Physical Review Letters" as well, that'd just be nirvana...mmm......good night.

## Tuesday, May 28, 1996
Today was fairly big. I finished the documentation (and a second draft of it) today -- it's about 17 pages long and fairly comprehensive. I also printed up all of the code for all of the different tools, and put it with the documentation into a binder. The binder now has about 150 pages of information that I personally wrote. It is somehow very fulfilling. When someone asks me what I'm doing at Harvard, I hand them the binder, and all is clear. I showed this to Dr. G, and he seemed very pleased. He then told me to go find out the magnetic field in the center of an anti-Helmholtz coil. Oh dear. I spent the the rest of the day slaving over graduate level electrodynamics textbooks and asking graduate students questions. I did find out what an anti-Helmholtz coil was, though. Near the end of the day, I fixed the equations in krunch-gmf, and started off a run to compare it to krunch.

## Wednesday, May 29, 1996
I continued to slave over the anti-Helmholtz equations. Nobody really gives these equations outright, so I needed to solve two instances of the ring equation. Yuck. Part of the solution involves elliptic integrals, which are only numerically solvable (i.e. you need to look up values in a table). Well, thankfully I found an approximation for small theta, which is valid because I'm just very close to the center. I ended up using that approximation in my equations. Boy, there sure was a lot of stuff that I just didn't understand at all. When taking a brief break from this, I checked my krunch-gmf run, and it had produced precisely the same datafile as krunch! Yee-haw! It works! I was very happy. I then went back to work on the equations, and I think I solved them. I had a simple equation for when one was just on the Z-axis, and a very complex set of equations for when one was not. Complex means that the equations take up half a page of writing all together. Yuck. Well, I showed them to Dr. G, and of course he wanted me to prove that they were correct. Well, after he left I managed to make a program that at the very least showed that both equations gave a zero magnetic field at the origin, and they [roughly] correlated for other points on the Z-axis. Tomorrow, I'm going to have to run a detailed check on the very center to check for accuracy. I also haven't really changed axes yet. heh...so the "origin" is really (0,0,5), but I make it look, with a bit of code witchcraft, like it's really at (0,0,0), but the equations haven't actually changed. Maybe that's okay. Well, that's all for today.

## Thursday, May 30, 1996
Well, today went fairly well. I cleaned up the anti-Helmholtz code, recentered the origin for real, and spent most of the day hurling myself at the anti-Helmholtz coil equations. The latter I bled for with only with moderate sucess until Jeff rushed onto the scene sporting his "Superphysicist" latex suit, and pointed out (after 2 hours of debugging and hardcore math) that I had miscopied one of the formulas. WHOOPS. Gotta' hate that. I had a cos2 where I should have had a cos. *sigh*. Well, I got it right after all of that, and the program started spitting back "happy values" to me. I started making some contour plots in Sigma Plot, because Sigma Plot isn't smart enough to do vector plots. They all looked good, so I was very happy. Yippee! Now I just need to find the correlation between I and dBz/dz. Once that's accomplished, I run a few trials with just an electron with varying levels of current (or intensities of magnetic field, you could think of it), and see at what point the orbit destabilizes. The cool thing is that I can't look in the back of a textbook for the answer -- even Dr. G doesn't know how this will turn out! Once I do the electron runs, I'll try it with a proton. I'll ultimately get some formula that will relate dBz/dz and stability. This is new stuff -- might get a paper on this. As for the original krunch, Dr. G decided that it's about time for us (me, really) to kick it off to a supercomputer. I'm supposed to round up all of the free supercomputing time in the lab, and prepare runs for them, find out how to submit the jobs, how to compile the jobs, etc. That should be interesting and exciting. I'll then munch through the submitted data. Hopefully, I'll have changed the tools to be even more user-friendly by then. We'll see what I have time for! In my spare time, I'm learning Java. (And I'm supposed to fit tensor analysis somewhere in there too!) I have a feeling like I won't really be gone from the physics labs after next Friday -- Dr. G will probably want me weekends during the summer.

## Friday, May 31, 1996
Today was a short day, and probably my first genuinely unproductive day at Harvard, just to be bluntly honest. I did do some quantity of useful work -- I managed to get documentation on submitting requests to NCSA for supercomputing time (boy are the forms insane!). I also created a variant on krunch-gmf (called, surprisingly enough, krunch-gmf2) that simulates only one particle, and I tried a lot of different runs, experimenting with changing the current in the loops, etc. Unfortunately, the particle always seems to fly out from the center of the trap, regardless of the current. I tried everything from 10A of current to 1mA to no current at all, and the particle still flew out in a hurry...maybe I did something wrong -- I'll have to double check my work. I think my brain went dead today because of the insane work I have been doing for the last three days, combined with the fact that Dr. G left for Paris today and Jeff is not around. I think that the work pace should pick up on Monday, when my head is well-rested, though. I've got a prom tonight -- that should be fun. [post-factum note: it was fun.] I had to leave early for an interview with the Arlington Town Treasurer for the Arlington Town Scholarship that I won, and then I have to rush off to get my tux for the prom.

## Monday, June 3, 1996
Depressing. Very, very depressing. I slugged away at the program all day, modified it, redid it, retested it...yuch...My main problem right now is that changing the coil current is not changing the simulation outputs!! I am clearly doing something very wrong here -- if only I knew what! Heavy duty debugging tomorrow. I did call NCSA, and email them, asking about allocations, especially relating to free NSF time. They haven't gotten back to me yet, however...I felt terrible after coming home from work. Terrible.

## Tuesday, June 4, 1996
Whoops. I haven't logged the journal for a while. (it's actually Thursday now) Today I continued to work on the Helmholtz problem, and I discovered the problem. The problem is that the force that the magnetic field exerts on the particle is incredibly tiny in proportion to the other forces exerted on it. So varying the current doesn't produce a diffference in the output because the magnetic field is pushing so little! It is about one part in 10^22 of the total force. I was glad to find that, but I have as of yet to figure out why the magnitudes are off. I checked units, but those are okay. I have a feeling it probably has to do with the fact that there's no wz term. It seems wrong.

## Wednesday, June 5, 1996
Dr. G came back today at 2! I started some runs on bussle while waiting for his return. I also found out that indeed, I did need a scalar multiplier on my magnetic field, and that made things much nicer. But the particle waas still just tailing it out of the trap! Then Dr. G came back and told me that the AntiHelmoltz coil in inside a regular Penning trap! Ah-ha! Now I just add that standard wz term to the z-component of the magnetic vector, and I'll accomplish that! I recompiled and did a few runs, varying the current. I could see the typical Penning motion, and there was a small amount of variance with different currents. Perhaps I should look over a longer time period if I want to see more divergence? More needs to be done on this.

## Thursday, June 6, 1996
This morning I modified chex for Unix for multiple file-checking. This involved more or less rewriting it, but that's okay, because it was a small program, anyhow. I think I'll erase the old one. It turned out to work very well. I was happy. I was trying out the chex code on the job that I started out yesterday, and I found a surprisingly high quantity of brief recombinations -- 3 out of 16! The analytic papers indicated that I should expect recombination about 1 time in 300. So I downloaded the datafiles to scope them with my viewer. Chex was right. There definitely were brief recombinations with the particles chex had mentioned for the time periods mentioned. Dr. G came and peeked over my shoulder. Naturally, the program faulted almost instantly. [laugh] I restarted the program, and showed him the simulation from start to stop. "Interesting," he said, "but why is the proton just charging through that cloud? I thought you set it up so that it would come to a stop in the center." Whoops. I replayed the datafile a few more times. He was right. I looked through the datafiles by hand, and the proton had hardly even slowed down going through the center. #%$^$. I spent the rest of the day recalculating the correct formula for determining the initial velocity, unlike Jeff's. [grin] With a good deal of help, and after taking quite a few dead ends, I managed to find the correct formula! Whew! By this time, it was about 7 or so. I cheered and hit myself with keyboard wristrests, doing a little victory dance. I killed the job on bussle that was running with this much-too-fast set of initial conditions, popped it in the 'pair1' directory, made a 'pair2' directory, and set up a few hundred datafiles in the new format, and started up a run on bussle. I didn't have time to stick around and analyse one of its jobs, since that takes about 2.5 hours, and I was getting awful hungry, anyhow. I'm going to keep the old data anyhow -- who knows? It may be of use to the physicists to know that large numbers of brief recombinations occur when the proton flies through the cloud at high speed. I'll ask Dr. G. Just before I left, I slammed a todo on disk in .message, which will tell me what I need to do tomorrow, since I always forget. [grin]